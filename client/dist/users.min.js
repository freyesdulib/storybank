!function(){"use strict";angular.module("users",[]).run(function($http,$templateCache){$http.get("users/views/active-user.client.view.html",{cache:$templateCache})}).run(function($http,$templateCache){$http.get("users/views/create-user.client.view.html",{cache:$templateCache})}).run(function($http,$templateCache){$http.get("users/views/edit-user.client.view.html",{cache:$templateCache})}).run(function($http,$templateCache){$http.get("users/views/inactive-user.client.view.html",{cache:$templateCache})}).run(function($http,$templateCache){$http.get("users/views/list-user.client.view.html",{cache:$templateCache})})}(),function(){"use strict";var UserController=function($scope,$location,$routeParams,$filter,$timeout,Authentication,User,Flash){var vm=this;vm.authentication=Authentication;var successMessage=function(successMessage){$("form").hide();var message='<strong><span class="glyphicon glyphicon-ok">&nbsp;'+successMessage+"</span></strong>";Flash.create("success",message,"custom-class"),parent.scrollTo(0,0),$timeout(function(){$location.path("users")},5e3)};vm.predicate="status",vm.reverse=!1,vm.order=function(predicate){vm.reverse=vm.predicate===predicate?!vm.reverse:!1,vm.predicate=predicate},vm.create=function(){if(!$scope.userForm.$valid)return $scope.userForm.submitted=!0,!1;var user=new User({firstName:vm.firstName,lastName:vm.lastName,email:vm.email,username:vm.username,status:vm.status,role:vm.role});user.$save(function(){var message="Record added!";successMessage(message)},function(errorResponse){vm.error=errorResponse.data.message})},vm.find=function(){vm.users=User.query()},vm.findOne=function(){vm.user=User.get({userId:$routeParams.userId})},vm.update=function(){vm.user.$update(function(){var message="Record updated!";successMessage(message)},function(errorResponse){vm.error=errorResponse.data.message})},vm["delete"]=function(user){user?user.$remove(function(){for(var i in vm.user)vm.user[i]===user&&vm.user.splice(i,1)}):vm.user.$remove(function(){var message="Record removed!";successMessage(message)})}};UserController.$inject=["$scope","$location","$routeParams","$filter","$timeout","Authentication","User","Flash"],angular.module("users").controller("UserController",UserController)}(),function(){"use strict";var authentication=function(){return this.user=window.user,{user:this.user}};angular.module("users").factory("Authentication",[authentication])}(),function(){"use strict";var resource=function($resource){return $resource("api/users/:userId",{userId:"@_id"},{update:{method:"PUT"}})};angular.module("users").factory("User",["$resource",resource])}(),function(){"use strict";var userRoutes=function($routeProvider){var checkAuth={auth:function(){null===window.user&&(window.location="#!/signin")}};$routeProvider.when("/users",{templateUrl:"users/views/list-user.client.view.html",resolve:checkAuth}).when("/users/create",{templateUrl:"users/views/create-user.client.view.html",resolve:checkAuth}).when("/users/:userId",{templateUrl:"users/views/view-user.client.view.html",resolve:checkAuth}).when("/users/:userId/edit",{templateUrl:"users/views/edit-user.client.view.html",resolve:checkAuth}).when("/users/:userId/status/inactive",{templateUrl:"users/views/active-user.client.view.html",resolve:checkAuth}).when("/users/:userId/status/active",{templateUrl:"users/views/inactive-user.client.view.html",resolve:checkAuth}).otherwise({redirectTo:"/signin"})};angular.module("users").config(["$routeProvider",userRoutes])}();